<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PERODUA MYVI | Smart Hatchback</title>
    <style>
        @font-face {
    font-family: 'Mori';
    src: url(fonts/PPMori-Regular.otf) format('opentype');
}

@font-face {
    font-family: 'SF Pro';
    src: url(fonts/SF-Pro-Display-Regular.otf) format('opentype');
}

@font-face {
    font-family: 'Mori Black';
    src: url(fonts/PPMori-Black.otf) format('opentype');
}

@font-face {
  font-family: 'Mori Extralight';
  src: url(fonts/PPMori-Extralight.otf) format('opentype');
}
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-dark: #0a0a0a;
            --primary-light: #f8f9fa;
            --accent-blue: #007aff;
            --accent-red: #ff3b30;
            --accent-gold: #d4af37;
            --accent-teal: #00d4aa;
            --accent-cyan: #32d2ff;
            --glass: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            --gradient-main: linear-gradient(135deg, #00d4aa 0%, #32d2ff 100%);
            --gradient-hero: linear-gradient(45deg, #000000 0%, #1a1a1a 50%, #000000 100%);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Mori', Roboto, sans-serif;
            background: var(--primary-dark);
            color: var(--primary-light);
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            z-index: 1000;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-family: 'Mori Black', sans-serif;
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(45deg, #ffffff, #32d2ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--accent-teal);
            transform: translateY(-1px);
        }

        .back-button {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .back-button:hover {
            background: var(--accent-teal);
            transform: translateY(-1px);
        }

        /* Hero Section */
        .hero {
            height: 100vh;
            background: var(--gradient-hero);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            padding-top: 80px;
        }

        .hero-content {
            max-width: 1400px;
            width: 100%;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: center;
            padding: 0 2rem;
        }

        .hero-text {
            z-index: 2;
        }

        .hero-title {
            font-family: 'Mori Black', sans-serif;
            font-size: clamp(3rem, 6vw, 6rem);
            font-weight: 900;
            line-height: 0.9;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #ffffff, #32d2ff, #00d4aa);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .hero-subtitle {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            opacity: 0.9;
            font-weight: 300;
        }

        .hero-description {
            font-size: 1.1rem;
            margin-bottom: 2rem;
            opacity: 0.8;
            line-height: 1.8;
        }

        h2 {
            font-family: 'Mori Black', sans-serif;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .cta-button {
            background: linear-gradient(45deg, var(--accent-teal), var(--accent-cyan));
            color: white;
            padding: 1rem 2.5rem;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            text-decoration: none;
            display: inline-block;
        }

        .cta-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0, 212, 170, 0.3);
        }

        .cta-secondary {
            background: transparent;
            border: 2px solid var(--accent-teal);
            color: var(--accent-teal);
        }

        .cta-secondary:hover {
            background: var(--accent-teal);
            color: white;
        }

        .hero-visual {
            position: relative;
            height: 500px;
            background: 
                url('https://www.perodua.com.my/assets/car/myvi/webp/myvi_infobox_img/myvi_info_box_kv_m_1_5x.webp?v=1755767262'),
                var(--glass);
            background-size: cover;
            background-position: center;
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
        }

        /* Video Section */
        .video-section {
            padding: 8rem 2rem;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        }

        .video-container {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .section-title {
            font-size: 4rem;
            font-weight: 800;
            margin-bottom: 2rem;
            background: linear-gradient(45deg, #ffffff, #32d2ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .video-wrapper {
            position: relative;
            width: 100%;
            height: 600px;
            background: var(--glass);
            border-radius: 24px;
            overflow: hidden;
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
        }

        .video-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .play-button {
            width: 100px;
            height: 100px;
            background: linear-gradient(45deg, var(--accent-teal), var(--accent-cyan));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(0, 212, 170, 0.5);
        }

        .play-button::before {
            content: '▶';
            font-size: 2rem;
            color: white;
            margin-left: 5px;
        }

        .video-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .video-description {
            opacity: 0.8;
            max-width: 600px;
        }

        /* Features Section */
        .features-section {
            padding: 8rem 2rem;
            background: var(--primary-dark);
        }

        .features-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 3rem;
            margin-top: 4rem;
        }

        .feature-card {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid var(--glass-border);
            padding: 3rem 2rem;
            text-align: center;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            border-color: var(--accent-teal);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(45deg, var(--accent-teal), var(--accent-cyan));
            border-radius: 50%;
            margin: 0 auto 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
        }

        .feature-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
        }

        .feature-description {
            opacity: 0.8;
            line-height: 1.8;
        }

        /* Specifications Section */
        .specs-section {
            padding: 8rem 2rem;
            background: linear-gradient(135deg, #1a1a1a 0%, #0a0a0a 100%);
        }

        .specs-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .specs-tabs {
            display: flex;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 4rem;
            flex-wrap: wrap;
        }

        .tab-button {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: white;
            padding: 1rem 2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            font-weight: 600;
        }

        .tab-button:hover,
        .tab-button.active {
            background: var(--accent-teal);
            border-color: var(--accent-teal);
            transform: translateY(-2px);
        }

        .specs-content {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid var(--glass-border);
            padding: 3rem;
        }

        .specs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .spec-item {
            display: flex;
            justify-content: space-between;
            padding: 1rem 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .spec-label {
            font-weight: 600;
            color: var(--accent-teal);
        }

        .spec-value {
            opacity: 0.9;
        }

        /* Customization Section */
        .customization-section {
            padding: 8rem 2rem;
            background: var(--primary-dark);
        }

        .customization-container {
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            align-items: start;
        }

        .customization-panel {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid var(--glass-border);
            padding: 3rem;
            position: sticky;
            top: 100px;
        }

        .custom-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 2rem;
            background: linear-gradient(45deg, #ffffff, #32d2ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .custom-group {
            margin-bottom: 3rem;
            opacity: 0.3;
            pointer-events: none;
            transition: all 0.5s ease;
            transform: translateY(20px);
        }

        .custom-group.active {
            opacity: 1;
            pointer-events: all;
            transform: translateY(0);
        }

        .custom-group.completed {
            opacity: 0.8;
            pointer-events: all;
            transform: translateY(0);
        }

        .custom-group.next-preview {
            opacity: 0.5;
            pointer-events: none;
            transform: translateY(10px);
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            margin-bottom: 2rem;
            gap: 1rem;
        }

        .step-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .step-dot.active {
            background: var(--accent-teal);
            transform: scale(1.2);
        }

        .step-dot.completed {
            background: var(--accent-cyan);
        }

        .final-buttons {
            opacity: 0.3;
            pointer-events: none;
            transition: all 0.5s ease;
            transform: translateY(20px);
        }

        .final-buttons.active {
            opacity: 1;
            pointer-events: all;
            transform: translateY(0);
        }

        .custom-label {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            display: block;
        }

        .custom-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
        }

        .custom-option {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: white;
            padding: 1rem;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            text-align: center;
            font-weight: 500;
        }

        .custom-option:hover,
        .custom-option.active {
            background: var(--accent-teal);
            border-color: var(--accent-teal);
            transform: translateY(-2px);
        }

        .color-options {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .color-option {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            position: relative;
        }

        .color-option:hover,
        .color-option.active {
            transform: scale(1.1);
            border-color: var(--accent-teal);
            box-shadow: 0 0 20px rgba(0, 212, 170, 0.5);
        }

        .color-red { background: var(--accent-red); }
        .color-blue { background: var(--accent-blue); }
        .color-silver { background: linear-gradient(45deg, #c0c0c0, #e0e0e0); }
        .color-black { background: #000000; }
        .color-white { background: #ffffff; }
        .color-teal { background: var(--accent-teal); }

        .price-summary {
            background: rgba(0, 212, 170, 0.1);
            border: 1px solid var(--accent-teal);
            border-radius: 16px;
            padding: 2rem;
            margin-top: 2rem;
            text-align: center;
        }

        .price-label {
            font-size: 1.1rem;
            opacity: 0.8;
            margin-bottom: 0.5rem;
        }

        .price-amount {
            font-family: 'Mori Black', sans-serif;
            font-size: 2.5rem;
            font-weight: 900;
            color: var(--accent-teal);
        }

        .car-preview {
            background: var(--glass);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid var(--glass-border);
            padding: 2rem;
            height: fit-content;
        }

        .preview-car {
            width: 100%;
            height: 400px;
            background: linear-gradient(45deg, #2a2a2a, #3a3a3a);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 2rem;
            transition: all 0.5s ease;
            position: relative;
            overflow: hidden;
        }

        .preview-car::before {
            content: 'MYVI PREVIEW';
            color: rgba(0, 212, 170, 0.5);
            font-size: 1.5rem;
            font-weight: 600;
        }

        .config-summary {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .config-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .config-item:last-child {
            margin-bottom: 0;
        }

        /* Gallery Section */
        .gallery-section {
            padding: 8rem 2rem;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
        }

        .gallery-container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }

        .gallery-item {
            aspect-ratio: 16/9;
            background: var(--glass);
            border-radius: 16px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .gallery-item:hover {
            transform: scale(1.05);
            border-color: var(--accent-teal);
            box-shadow: 0 0 30px rgba(0, 212, 170, 0.3);
        }

        .gallery-item::before {
            content: attr(data-title);
            color: rgba(255, 255, 255, 0.5);
            font-weight: 600;
        }

        /* Image Modal */
        .image-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .image-modal.active {
            display: flex;
            opacity: 1;
        }

        .modal-content {
            position: relative;
            max-width: 90vw;
            max-height: 90vh;
            background: var(--glass);
            border-radius: 12px;
            overflow: hidden;
            border: 1px solid var(--glass-border);
        }

        .modal-image-container {
            width: 100%;
            height: 70vh;
            overflow: hidden;
            position: relative;
            cursor: move;
            background: #1a1a1a;
        }

        .modal-image {
            width: 100%;
            height: 100%;
            object-fit: contain;
            transition: transform 0.3s ease;
            user-select: none;
        }

        .modal-controls {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.8);
            gap: 1rem;
        }

        .control-button {
            background: var(--glass);
            border: 1px solid var(--glass-border);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            backdrop-filter: blur(10px);
        }

        .control-button:hover {
            background: var(--accent-teal);
            border-color: var(--accent-teal);
            transform: translateY(-1px);
        }

        .zoom-level {
            color: white;
            font-weight: 600;
            min-width: 60px;
            text-align: center;
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.5rem;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .close-modal:hover {
            background: var(--accent-teal);
            transform: scale(1.1);
        }

        .image-info {
            position: absolute;
            bottom: 60px;
            left: 15px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.9rem;
            backdrop-filter: blur(10px);
        }

        /* CTA Section */
        .final-cta {
            padding: 8rem 2rem;
            background: var(--gradient-hero);
            text-align: center;
        }

        .cta-content {
            max-width: 800px;
            margin: 0 auto;
        }

        .cta-title {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 1rem;
            background: linear-gradient(45deg, #ffffff, #32d2ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .cta-subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 3rem;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero-content,
            .customization-container {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .hero-title {
                font-size: 3rem;
            }

            .section-title {
                font-size: 2.5rem;
            }

            .specs-tabs {
                flex-direction: column;
                align-items: center;
            }

            .video-wrapper {
                height: 300px;
            }

            .customization-panel {
                position: static;
            }
        }

        /* Animation classes */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav-container">
            <div class="logo">MeisterCo.</div>
            <nav>
                <ul class="nav-links">
                    <li><a href="#overview">Overview</a></li>
                    <li><a href="#features">Features</a></li>
                    <li><a href="#specifications">Specs</a></li>
                    <li><a href="#customize">Customize</a></li>
                    <li><a href="#gallery">Gallery</a></li>
                </ul>
            </nav>
            <a href="/index.html" class="back-button">← Back to Models</a>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="overview">
        <div class="hero-content fade-in">
            <div class="hero-text">
                <h1 class="hero-title">PERODUA<br>MYVI</h1>
                <p class="hero-subtitle">Smart Hatchback</p>
                <p class="hero-description">
                    Malaysia's most loved hatchback returns with smart technology, fuel efficiency, and dynamic styling. 
                    The new Myvi combines practical urban mobility with advanced safety features and modern connectivity, 
                    making every journey smarter and more enjoyable.
                </p>
                <div class="hero-buttons">
                    <a href="#customize" class="cta-button">CONFIGURE YOURS</a>
                    <a href="#video" class="cta-button cta-secondary">WATCH VIDEO</a>
                </div>
            </div>
            <div class="hero-visual"></div>
        </div>
    </section>

    <!-- Video Section -->
    <section class="video-section" id="video">
        <div class="video-container">
            <h2 class="section-title fade-in">SMART MOBILITY</h2>
            <div class="video-wrapper fade-in">
                <div class="video-placeholder">
                    <button class="play-button" onclick="playVideo()"></button>
                    <div>
                        <h3 class="video-title">Intelligence Meets Efficiency</h3>
                        <p class="video-description">
                            Experience the Myvi's smart features, fuel-efficient performance, and advanced safety systems 
                            that make city driving effortless and connected.
                        </p>
                    </div>
                </div>
            </div>
            <p class="fade-in" style="opacity: 0.7;">Discover why millions choose the Myvi for urban adventures</p>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features-section" id="features">
        <div class="features-container">
            <h2 class="section-title fade-in">SMART FEATURES</h2>
            <div class="features-grid">
                <div class="feature-card fade-in">
                    <div class="feature-icon">⚡</div>
                    <h3 class="feature-title">Dual VVT-i Engine</h3>
                    <p class="feature-description">
                        1.5L Dual VVT-i engine with optimized fuel consumption 
                        delivering responsive performance for city and highway driving.
                    </p>
                </div>

                <div class="feature-card fade-in">
                    <div class="feature-icon">🛡️</div>
                    <h3 class="feature-title">Advanced Safety Assist</h3>
                    <p class="feature-description">
                        Pre-Collision System, Pedal Misoperation Control, and 
                        Front Departure Alert for enhanced protection in urban environments.
                    </p>
                </div>

                <div class="feature-card fade-in">
                    <div class="feature-icon">🚗</div>
                    <h3 class="feature-title">Compact Versatility</h3>
                    <p class="feature-description">
                        Perfect city dimensions with flexible interior space, 
                        easy parking capability, and practical storage solutions.
                    </p>
                </div>

                <div class="feature-card fade-in">
                    <div class="feature-icon">📱</div>
                    <h3 class="feature-title">Smart Connectivity</h3>
                    <p class="feature-description">
                        7-inch touchscreen with smartphone integration, 
                        Bluetooth connectivity, and USB charging ports.
                    </p>
                </div>

                <div class="feature-card fade-in">
                    <div class="feature-icon">✨</div>
                    <h3 class="feature-title">Premium Comfort</h3>
                    <p class="feature-description">
                        Upgraded interior materials, comfortable seating, 
                        and air conditioning for all weather conditions.
                    </p>
                </div>

                <div class="feature-card fade-in">
                    <div class="feature-icon">🎯</div>
                    <h3 class="feature-title">Agile Handling</h3>
                    <p class="feature-description">
                        Responsive steering, optimized suspension setup, 
                        and excellent maneuverability for urban driving.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Specifications Section -->
    <section class="specs-section" id="specifications">
        <div class="specs-container">
            <h2 class="section-title fade-in">SPECIFICATIONS</h2>
            <div class="specs-tabs fade-in">
                <button class="tab-button active" onclick="showSpecs('engine')">Engine</button>
                <button class="tab-button" onclick="showSpecs('dimensions')">Dimensions</button>
                <button class="tab-button" onclick="showSpecs('safety')">Safety</button>
                <button class="tab-button" onclick="showSpecs('comfort')">Comfort</button>
            </div>
            
            <div class="specs-content fade-in" id="specsContent">
                <div class="specs-grid" id="engineSpecs">
                    <div class="spec-item">
                        <span class="spec-label">Engine Type</span>
                        <span class="spec-value">1.5L Dual VVT-i</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Max Power</span>
                        <span class="spec-value">103 PS @ 6,000 rpm</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Max Torque</span>
                        <span class="spec-value">136 Nm @ 4,200 rpm</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Transmission</span>
                        <span class="spec-value">4-Speed AT / 5-Speed MT</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Fuel Consumption</span>
                        <span class="spec-value">4.1L/100km</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Fuel Tank Capacity</span>
                        <span class="spec-value">40 Litres</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Customization Section -->
    <section class="customization-section" id="customize">
        <div class="customization-container">
            <div class="customization-panel fade-in">
                <h2 class="custom-title">BUILD YOUR MYVI</h2>
                
                <!-- Step Indicator -->
                <div class="step-indicator">
                    <div class="step-dot active" onclick="goToStep(0)"></div>
                    <div class="step-dot" onclick="goToStep(1)"></div>
                    <div class="step-dot" onclick="goToStep(2)"></div>
                    <div class="step-dot" onclick="goToStep(3)"></div>
                </div>

                <!-- Step 1: Variant Selection -->
                <div class="custom-group active" id="step-0">
                    <label class="custom-label">Step 1: Select Variant</label>
                    <div class="custom-options">
                        <div class="custom-option" onclick="selectVariant(this, 'AV', 54900, 0)">
                            <div>Myvi AV</div>
                            <small>RM 54,900</small>
                        </div>
                        <div class="custom-option" onclick="selectVariant(this, 'H', 49500, 0)">
                            <div>Myvi H</div>
                            <small>RM 49,500</small>
                        </div>
                        <div class="custom-option" onclick="selectVariant(this, 'G', 46500, 0)">
                            <div>Myvi G</div>
                            <small>RM 46,500</small>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Color Selection -->
                <div class="custom-group next-preview" id="step-1">
                    <label class="custom-label">Step 2: Choose Color</label>
                    <div class="color-options">
                        <div class="color-option color-white" onclick="selectColor(this, 'Ivory White', 1)" data-color="white"></div>
                        <div class="color-option color-silver" onclick="selectColor(this, 'Granite Silver', 1)" data-color="silver"></div>
                        <div class="color-option color-black" onclick="selectColor(this, 'Glittering Silver', 1)" data-color="black"></div>
                        <div class="color-option color-red" onclick="selectColor(this, 'Cranberry Red', 1)" data-color="red"></div>
                        <div class="color-option color-blue" onclick="selectColor(this, 'Electric Blue', 1)" data-color="blue"></div>
                        <div class="color-option color-teal" onclick="selectColor(this, 'Lava Orange', 1)" data-color="teal"></div>
                    </div>
                </div>

                <!-- Step 3: Interior Package -->
                <div class="custom-group" id="step-2">
                    <label class="custom-label">Step 3: Interior Package</label>
                    <div class="custom-options">
                        <div class="custom-option" onclick="selectInterior(this, 'Standard', 0, 2)">
                            <div>Standard</div>
                            <small>Included</small>
                        </div>
                        <div class="custom-option" onclick="selectInterior(this, 'Premium', 2500, 2)">
                            <div>Premium</div>
                            <small>+RM 2,500</small>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Accessories -->
                <div class="custom-group" id="step-3">
                    <label class="custom-label">Step 4: Accessories (Optional)</label>
                    <div class="custom-options">
                        <div class="custom-option" onclick="toggleAccessory(this, 'Body Kit', 1800, 3)">
                            <div>Body Kit</div>
                            <small>+RM 1,800</small>
                        </div>
                        <div class="custom-option" onclick="toggleAccessory(this, 'Spoiler', 650, 3)">
                            <div>Spoiler</div>
                            <small>+RM 650</small>
                        </div>
                        <div class="custom-option" onclick="toggleAccessory(this, 'Alloy Wheels', 1200, 3)">
                            <div>Alloy Wheels</div>
                            <small>+RM 1,200</small>
                        </div>
                        <div class="custom-option" onclick="toggleAccessory(this, 'Tinted Windows', 400, 3)">
                            <div>Tinted Windows</div>
                            <small>+RM 400</small>
                        </div>
                    </div>
                    <div style="text-align: center; margin-top: 1rem;">
                        <button class="control-button" onclick="completeAccessoriesStep()" style="background: var(--accent-teal); border-color: var(--accent-teal);">
                            Continue to Summary
                        </button>
                    </div>
                </div>

                <div class="config-summary">
                    <h4 style="margin-bottom: 1rem; color: var(--accent-teal);">Configuration Summary</h4>
                    <div class="config-item">
                        <span>Variant:</span>
                        <span id="selectedVariant">Not Selected</span>
                    </div>
                    <div class="config-item">
                        <span>Color:</span>
                        <span id="selectedColor">Not Selected</span>
                    </div>
                    <div class="config-item">
                        <span>Interior:</span>
                        <span id="selectedInterior">Not Selected</span>
                    </div>
                    <div class="config-item">
                        <span>Accessories:</span>
                        <span id="selectedAccessories">None</span>
                    </div>
                </div>

                <div class="price-summary">
                    <div class="price-label">Total Price</div>
                    <div class="price-amount" id="totalPrice">RM 0</div>
                </div>

                <div class="final-buttons" id="finalButtons">
                    <div style="display: flex; gap: 1rem; margin-top: 2rem;">
                        <button class="cta-button" style="flex: 1;" onclick="requestQuote()">REQUEST QUOTE</button>
                        <button class="cta-button cta-secondary" style="flex: 1;" onclick="bookTestDrive()">BOOK TEST DRIVE</button>
                    </div>
                </div>
            </div>

            <div class="car-preview fade-in">
                <div class="preview-car" id="carPreview"></div>
                <p style="text-align: center; opacity: 0.8; margin-bottom: 2rem;">
                    360° view of your customized Myvi
                </p>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="gallery-section" id="gallery">
        <div class="gallery-container">
            <h2 class="section-title fade-in">GALLERY</h2>
            <div class="gallery-grid">
                <div class="gallery-item fade-in" data-title="Dynamic Exterior" onclick="openGallery(0)"></div>
                <div class="gallery-item fade-in" data-title="Smart Interior" onclick="openGallery(1)"></div>
                <div class="gallery-item fade-in" data-title="Advanced Dashboard" onclick="openGallery(2)"></div>
                <div class="gallery-item fade-in" data-title="Comfortable Seating" onclick="openGallery(3)"></div>
                <div class="gallery-item fade-in" data-title="Practical Storage" onclick="openGallery(4)"></div>
                <div class="gallery-item fade-in" data-title="Safety Features" onclick="openGallery(5)"></div>
                <div class="gallery-item fade-in" data-title="Efficient Engine" onclick="openGallery(6)"></div>
                <div class="gallery-item fade-in" data-title="City Performance" onclick="openGallery(7)"></div>
            </div>
        </div>
    </section>

    <!-- Image Modal -->
    <div class="image-modal" id="imageModal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeModal()">&times;</button>
            <div class="image-info" id="imageInfo">Myvi Gallery</div>
            <div class="modal-image-container" id="imageContainer">
                <img class="modal-image" id="modalImage" src="" alt="Myvi Gallery Image">
            </div>
            <div class="modal-controls">
                <button class="control-button" onclick="zoomOut()">Zoom Out</button>
                <span class="zoom-level" id="zoomLevel">100%</span>
                <button class="control-button" onclick="zoomIn()">Zoom In</button>
                <button class="control-button" onclick="resetZoom()">Reset</button>
                <button class="control-button" onclick="previousImage()">&lt; Prev</button>
                <button class="control-button" onclick="nextImage()">Next &gt;</button>
            </div>
        </div>
    </div>

    <!-- Final CTA -->
    <section class="final-cta">
        <div class="cta-content fade-in">
            <h2 class="cta-title">SMART CHOICE AHEAD?</h2>
            <p class="cta-subtitle">
                Join millions of satisfied Myvi owners who have discovered the perfect balance of efficiency, 
                technology, and reliability. Experience Malaysia's favorite hatchback today.
            </p>
            <div class="cta-buttons">
                <button class="cta-button" onclick="bookDefaultTestDrive()">BOOK TEST DRIVE</button>
                <button class="cta-button cta-secondary" onclick="downloadBrochure()">DOWNLOAD BROCHURE</button>
            </div>
        </div>
    </section>

    <script>
        // Header scroll effect
        window.addEventListener('scroll', () => {
            const header = document.querySelector('.header');
            if (window.scrollY > 50) {
                header.style.background = 'rgba(10, 10, 10, 0.98)';
            } else {
                header.style.background = 'rgba(10, 10, 10, 0.95)';
            }
        });

        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Video functionality
        function playVideo() {
            const videoWrapper = document.querySelector('.video-wrapper');
            videoWrapper.innerHTML = `
                <iframe 
                    width="100%" 
                    height="600" 
                    src="https://www.youtube.com/embed/bYJlQFeSXK4?autoplay=1&rel=0" 
                    title="Perodua Myvi Smart Features" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen
                    style="border-radius: 24px;">
                </iframe>
            `;
        }

        // Specifications tabs
        function showSpecs(category) {
            document.querySelectorAll('.tab-button').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            const specs = {
                engine: `
                    <div class="spec-item"><span class="spec-label">Engine Type</span><span class="spec-value">1.5L Dual VVT-i</span></div>
                    <div class="spec-item"><span class="spec-label">Max Power</span><span class="spec-value">103 PS @ 6,000 rpm</span></div>
                    <div class="spec-item"><span class="spec-label">Max Torque</span><span class="spec-value">136 Nm @ 4,200 rpm</span></div>
                    <div class="spec-item"><span class="spec-label">Transmission</span><span class="spec-value">4-Speed AT / 5-Speed MT</span></div>
                    <div class="spec-item"><span class="spec-label">Fuel Consumption</span><span class="spec-value">4.1L/100km</span></div>
                    <div class="spec-item"><span class="spec-label">Fuel Tank Capacity</span><span class="spec-value">40 Litres</span></div>
                `,
                dimensions: `
                    <div class="spec-item"><span class="spec-label">Overall Length</span><span class="spec-value">3,895 mm</span></div>
                    <div class="spec-item"><span class="spec-label">Overall Width</span><span class="spec-value">1,735 mm</span></div>
                    <div class="spec-item"><span class="spec-label">Overall Height</span><span class="spec-value">1,515 mm</span></div>
                    <div class="spec-item"><span class="spec-label">Wheelbase</span><span class="spec-value">2,500 mm</span></div>
                    <div class="spec-item"><span class="spec-label">Ground Clearance</span><span class="spec-value">150 mm</span></div>
                    <div class="spec-item"><span class="spec-label">Kerb Weight</span><span class="spec-value">1,125 kg</span></div>
                `,
                safety: `
                    <div class="spec-item"><span class="spec-label">ASEAN NCAP</span><span class="spec-value">5 Stars</span></div>
                    <div class="spec-item"><span class="spec-label">Airbags</span><span class="spec-value">6 Airbags (AV)</span></div>
                    <div class="spec-item"><span class="spec-label">ABS with EBD</span><span class="spec-value">Standard</span></div>
                    <div class="spec-item"><span class="spec-label">Vehicle Stability Control</span><span class="spec-value">Standard</span></div>
                    <div class="spec-item"><span class="spec-label">Advanced Safety Assist</span><span class="spec-value">Available (AV)</span></div>
                    <div class="spec-item"><span class="spec-label">ISOFIX</span><span class="spec-value">Standard</span></div>
                `,
                comfort: `
                    <div class="spec-item"><span class="spec-label">Seating Capacity</span><span class="spec-value">5 Seats</span></div>
                    <div class="spec-item"><span class="spec-label">Air Conditioning</span><span class="spec-value">Manual AC</span></div>
                    <div class="spec-item"><span class="spec-label">Infotainment</span><span class="spec-value">7" Touchscreen (H & AV)</span></div>
                    <div class="spec-item"><span class="spec-label">Connectivity</span><span class="spec-value">Bluetooth & USB</span></div>
                    <div class="spec-item"><span class="spec-label">Audio System</span><span class="spec-value">6 Speakers</span></div>
                    <div class="spec-item"><span class="spec-label">Power Windows</span><span class="spec-value">Front & Rear</span></div>
                `
            };

            document.getElementById('specsContent').innerHTML = 
                `<div class="specs-grid">${specs[category]}</div>`;
        }

        // Configuration state
        let config = {
            variant: { name: null, price: 0 },
            color: { name: null, code: null },
            interior: { name: null, price: 0 },
            accessories: []
        };

        let currentStep = 0;
        const totalSteps = 4;
        let stepsCompleted = [false, false, false, false];

        // Step management functions
        function goToStep(stepIndex) {
            if (stepIndex < currentStep || (stepIndex === currentStep + 1 && stepsCompleted[currentStep])) {
                currentStep = stepIndex;
                updateStepDisplay();
                scrollToStep(stepIndex);
            }
        }

        function updateStepDisplay() {
            document.querySelectorAll('.step-dot').forEach((dot, index) => {
                dot.classList.remove('active', 'completed');
                if (index === currentStep) {
                    dot.classList.add('active');
                } else if (stepsCompleted[index]) {
                    dot.classList.add('completed');
                }
            });

            document.querySelectorAll('.custom-group').forEach((group, index) => {
                group.classList.remove('active', 'completed', 'next-preview');
                
                if (index === currentStep) {
                    group.classList.add('active');
                } else if (stepsCompleted[index]) {
                    group.classList.add('completed');
                } else if (index === currentStep + 1 && stepsCompleted[currentStep]) {
                    group.classList.add('next-preview');
                }
            });

            const allCompleted = stepsCompleted.every(completed => completed);
            const finalButtons = document.getElementById('finalButtons');
            if (allCompleted) {
                finalButtons.classList.add('active');
            } else {
                finalButtons.classList.remove('active');
            }
        }

        function scrollToStep(stepIndex) {
            const stepElement = document.getElementById(`step-${stepIndex}`);
            if (stepElement) {
                stepElement.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
            }
        }

        function completeStep(stepIndex) {
            stepsCompleted[stepIndex] = true;
            
            if (stepIndex < totalSteps - 1) {
                setTimeout(() => {
                    currentStep = stepIndex + 1;
                    updateStepDisplay();
                    scrollToStep(stepIndex + 1);
                }, 500);
            }
            
            updateStepDisplay();
        }

        // Customization functions
        function selectVariant(element, variant, price, stepIndex) {
            element.parentElement.querySelectorAll('.custom-option').forEach(opt => opt.classList.remove('active'));
            element.classList.add('active');
            
            config.variant = { name: variant, price: price };
            document.getElementById('selectedVariant').textContent = `Myvi ${variant}`;
            updatePrice();
            updateCarPreview();
            
            completeStep(stepIndex);
        }

        function selectColor(element, colorName, stepIndex) {
            document.querySelectorAll('.color-option').forEach(opt => opt.classList.remove('active'));
            element.classList.add('active');
            
            config.color = { name: colorName, code: element.dataset.color };
            document.getElementById('selectedColor').textContent = colorName;
            updateCarPreview();
            
            completeStep(stepIndex);
        }

        function selectInterior(element, interior, price, stepIndex) {
            element.parentElement.querySelectorAll('.custom-option').forEach(opt => opt.classList.remove('active'));
            element.classList.add('active');
            
            config.interior = { name: interior, price: price };
            document.getElementById('selectedInterior').textContent = interior;
            updatePrice();
            
            completeStep(stepIndex);
        }

        function toggleAccessory(element, accessory, price, stepIndex) {
            element.classList.toggle('active');
            
            const existingIndex = config.accessories.findIndex(acc => acc.name === accessory);
            if (existingIndex > -1) {
                config.accessories.splice(existingIndex, 1);
            } else {
                config.accessories.push({ name: accessory, price: price });
            }
            
            updateAccessoriesDisplay();
            updatePrice();
        }

        function completeAccessoriesStep() {
            completeStep(3);
        }

        function updateAccessoriesDisplay() {
            const accessoriesText = config.accessories.length > 0 
                ? config.accessories.map(acc => acc.name).join(', ')
                : 'None';
            document.getElementById('selectedAccessories').textContent = accessoriesText;
        }

        function updatePrice() {
            const basePrice = config.variant.price;
            const interiorPrice = config.interior.price;
            const accessoriesPrice = config.accessories.reduce((sum, acc) => sum + acc.price, 0);
            const totalPrice = basePrice + interiorPrice + accessoriesPrice;
            
            document.getElementById('totalPrice').textContent = totalPrice > 0 ? `RM ${totalPrice.toLocaleString()}` : 'RM 0';
        }

        function updateCarPreview() {
            const preview = document.getElementById('carPreview');
            const colorMap = {
                'red': 'linear-gradient(45deg, #ff3b30, #ff6b6b)',
                'blue': 'linear-gradient(45deg, #007aff, #5856d6)',
                'silver': 'linear-gradient(45deg, #c0c0c0, #e0e0e0)',
                'black': 'linear-gradient(45deg, #000000, #2a2a2a)',
                'white': 'linear-gradient(45deg, #ffffff, #f0f0f0)',
                'teal': 'linear-gradient(45deg, #00d4aa, #32d2ff)'
            };
            
            if (config.color.code) {
                preview.style.background = colorMap[config.color.code];
            }
            
            preview.innerHTML = `
                <div style="text-align: center; color: rgba(255,255,255,0.8);">
                    <div style="font-size: 1.8rem; font-weight: 700; margin-bottom: 0.5rem;">
                        ${config.variant.name ? `MYVI ${config.variant.name}` : 'SELECT VARIANT'}
                    </div>
                    <div style="font-size: 1rem; opacity: 0.8;">
                        ${config.color.name || 'Choose Color'}
                    </div>
                </div>
            `;
        }

        // Gallery functionality
        let currentImageIndex = 0;
        let zoomLevel = 1;
        let isDragging = false;
        let startX, startY;
        let translateX = 0, translateY = 0;

        const galleryImages = [
            {
                src: 'img/2-BeautyShot1.jpg',
                title: 'Dynamic Exterior',
                description: 'Myvi\'s sleek and modern design'
            },
            {
                src: 'img/2-BeautyShot2.png',
                title: 'Smart Interior',
                description: 'Comfortable and connected cabin'
            },
            {
                src: 'https://www.perodua.com.my/assets/car/myvi/webp/style_convenience_img/conv_mmediasystem_thumb_1x.webp',
                title: 'Advanced Dashboard',
                description: '7-inch touchscreen with smart features'
            },
            {
                src: 'https://www.perodua.com.my/assets/car/myvi/webp/practicality_img/5_passenger_thumb_1x.webp?v=1755767266',
                title: 'Comfortable Seating',
                description: 'Spacious interior for 5 passengers'
            },
            {
                src: 'https://www.perodua.com.my/assets/car/myvi/webp/practicality_img/myvi_practicality_img_1_5x.webp?v=1755767266',
                title: 'Practical Storage',
                description: 'Smart storage solutions'
            },
            {
                src: 'https://www.perodua.com.my/assets/car/myvi/webp/myvi_safety_img/myvi_smart_assist_pic_d_1_5x.webp',
                title: 'Safety Features',
                description: 'Advanced safety assist technology'
            },
            {
                src: 'https://www.perodua.com.my/assets/car/myvi/webp/myvi_tech_img/myvi_tech_eev_pic_d_1_5x.webp',
                title: 'Efficient Engine',
                description: '1.5L/1.3L Dual VVT-i performance'
            },
            {
                src: 'https://www.perodua.com.my/assets/images/myvi-inner-page-banner-mobile.webp',
                title: 'City Performance',
                description: 'Perfect for urban mobility'
            }
        ];

        function openGallery(index) {
            currentImageIndex = index;
            const modal = document.getElementById('imageModal');
            const modalImage = document.getElementById('modalImage');
            const imageInfo = document.getElementById('imageInfo');
            
            modalImage.src = galleryImages[index].src;
            imageInfo.textContent = `${galleryImages[index].title} - ${galleryImages[index].description}`;
            
            modal.classList.add('active');
            resetZoom();
            
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            resetZoom();
        }

        function zoomIn() {
            zoomLevel = Math.min(zoomLevel * 1.2, 5);
            updateImageTransform();
            updateZoomLevel();
        }

        function zoomOut() {
            zoomLevel = Math.max(zoomLevel / 1.2, 0.5);
            updateImageTransform();
            updateZoomLevel();
        }

        function resetZoom() {
            zoomLevel = 1;
            translateX = 0;
            translateY = 0;
            updateImageTransform();
            updateZoomLevel();
        }

        function updateImageTransform() {
            const modalImage = document.getElementById('modalImage');
            modalImage.style.transform = `scale(${zoomLevel}) translate(${translateX}px, ${translateY}px)`;
        }

        function updateZoomLevel() {
            document.getElementById('zoomLevel').textContent = `${Math.round(zoomLevel * 100)}%`;
        }

        function previousImage() {
            currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
            const modalImage = document.getElementById('modalImage');
            const imageInfo = document.getElementById('imageInfo');
            
            modalImage.src = galleryImages[currentImageIndex].src;
            imageInfo.textContent = `${galleryImages[currentImageIndex].title} - ${galleryImages[currentImageIndex].description}`;
            resetZoom();
        }

        function nextImage() {
            currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
            const modalImage = document.getElementById('modalImage');
            const imageInfo = document.getElementById('imageInfo');
            
            modalImage.src = galleryImages[currentImageIndex].src;
            imageInfo.textContent = `${galleryImages[currentImageIndex].title} - ${galleryImages[currentImageIndex].description}`;
            resetZoom();
        }

        // Mouse drag functionality
        document.addEventListener('DOMContentLoaded', () => {
            const imageContainer = document.getElementById('imageContainer');
            const modal = document.getElementById('imageModal');

            // Mouse events for dragging
            imageContainer.addEventListener('mousedown', (e) => {
                if (zoomLevel > 1) {
                    isDragging = true;
                    startX = e.clientX - translateX;
                    startY = e.clientY - translateY;
                    imageContainer.style.cursor = 'grabbing';
                }
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging && zoomLevel > 1) {
                    translateX = e.clientX - startX;
                    translateY = e.clientY - startY;
                    updateImageTransform();
                }
            });

            document.addEventListener('mouseup', () => {
                isDragging = false;
                imageContainer.style.cursor = zoomLevel > 1 ? 'move' : 'default';
            });

            // Mouse wheel zoom
            imageContainer.addEventListener('wheel', (e) => {
                e.preventDefault();
                if (e.deltaY < 0) {
                    zoomIn();
                } else {
                    zoomOut();
                }
            });

            // Touch events for mobile
            let initialTouchDistance = 0;
            let lastTouchX = 0, lastTouchY = 0;

            imageContainer.addEventListener('touchstart', (e) => {
                if (e.touches.length === 1) {
                    isDragging = true;
                    lastTouchX = e.touches[0].clientX;
                    lastTouchY = e.touches[0].clientY;
                } else if (e.touches.length === 2) {
                    const touch1 = e.touches[0];
                    const touch2 = e.touches[1];
                    initialTouchDistance = Math.sqrt(
                        Math.pow(touch2.clientX - touch1.clientX, 2) +
                        Math.pow(touch2.clientY - touch1.clientY, 2)
                    );
                }
            });

            imageContainer.addEventListener('touchmove', (e) => {
                e.preventDefault();
                
                if (e.touches.length === 1 && isDragging && zoomLevel > 1) {
                    const deltaX = e.touches[0].clientX - lastTouchX;
                    const deltaY = e.touches[0].clientY - lastTouchY;
                    translateX += deltaX;
                    translateY += deltaY;
                    updateImageTransform();
                    lastTouchX = e.touches[0].clientX;
                    lastTouchY = e.touches[0].clientY;
                } else if (e.touches.length === 2) {
                    const touch1 = e.touches[0];
                    const touch2 = e.touches[1];
                    const currentDistance = Math.sqrt(
                        Math.pow(touch2.clientX - touch1.clientX, 2) +
                        Math.pow(touch2.clientY - touch1.clientY, 2)
                    );
                    
                    if (initialTouchDistance > 0) {
                        const scale = currentDistance / initialTouchDistance;
                        zoomLevel = Math.min(Math.max(zoomLevel * scale, 0.5), 5);
                        updateImageTransform();
                        updateZoomLevel();
                        initialTouchDistance = currentDistance;
                    }
                }
            });

            imageContainer.addEventListener('touchend', () => {
                isDragging = false;
                initialTouchDistance = 0;
            });

            // Close modal when clicking outside
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });

            // Keyboard controls
            document.addEventListener('keydown', (e) => {
                if (modal.classList.contains('active')) {
                    switch(e.key) {
                        case 'Escape':
                            closeModal();
                            break;
                        case 'ArrowLeft':
                            previousImage();
                            break;
                        case 'ArrowRight':
                            nextImage();
                            break;
                        case '+':
                        case '=':
                            zoomIn();
                            break;
                        case '-':
                            zoomOut();
                            break;
                        case '0':
                            resetZoom();
                            break;
                    }
                }
            });
        });

        // Action functions
        function requestQuote() {
            const summary = `
Configuration Summary:
- Variant: Myvi ${config.variant.name}
- Color: ${config.color.name}
- Interior: ${config.interior.name}
- Accessories: ${config.accessories.map(acc => acc.name).join(', ') || 'None'}
- Total Price: ${document.getElementById('totalPrice').textContent}

Your quote request has been submitted! A Perodua representative will contact you within 24 hours.
            `.trim();
            
            alert(summary);
        }

        function bookTestDrive() {
    // This is for the "CONFIGURE YOURS" button - uses current configuration
    const selectedVariant = config.variant.name ? `MYVI ${config.variant.name}` : 'MYVI';
    const selectedColor = config.color.name || '';
    const totalPrice = document.getElementById('totalPrice').textContent || '';
    
    // Create URL with parameters
    const params = new URLSearchParams({
        model: 'myvi',
        variant: selectedVariant,
        color: selectedColor,
        price: totalPrice,
        source: 'myvi-configure'
    });
    
    // Redirect to booking page
    window.location.href = `book.html?${params.toString()}`;
}

function bookDefaultTestDrive() {
    // This is for the final CTA "BOOK TEST DRIVE" button - always uses default MYVI, ignoring current configuration
    const params = new URLSearchParams({
        model: 'myvi',
        variant: '',  // Don't pass variant to keep the default dropdown text
        color: '',
        price: '',
        source: 'myvi-default-cta'
    });
    
    // Redirect to booking page
    window.location.href = `book.html?${params.toString()}`;
}


        function downloadBrochure() {
            alert('Download Brochure\n\nPreparing your personalized Myvi brochure...\n\nThe PDF will be ready for download shortly.');
        }

        // Intersection Observer for animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        // Observe all fade-in elements
        document.querySelectorAll('.fade-in').forEach(el => {
            observer.observe(el);
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', () => {
            updateCarPreview();
            updateAccessoriesDisplay();
            updateStepDisplay();
            
            // Add smooth parallax effect
            window.addEventListener('scroll', () => {
                const scrolled = window.pageYOffset;
                const hero = document.querySelector('.hero');
                if (hero) {
                    hero.style.transform = `translateY(${scrolled * 0.3}px)`;
                }
            });

            // Add loading animation
            document.body.style.opacity = '0';
            document.body.style.transition = 'opacity 0.5s ease';
            setTimeout(() => {
                document.body.style.opacity = '1';
            }, 100);
        });
    
        function bookTestDrive() {
            // Get current configuration for context
            const selectedVariant = config.variant.name ? `MYVI ${config.variant.name}` : 'MYVI';
            const selectedColor = config.color.name || '';
            const totalPrice = document.getElementById('totalPrice').textContent || '';
            
            // Create URL with parameters
            const params = new URLSearchParams({
                model: 'myvi',
                variant: selectedVariant,
                color: selectedColor,
                price: totalPrice,
                source: 'myvi-page'
            });
            
            // Redirect to booking page
            window.location.href = `book.html?${params.toString()}`;
        }
    </script>
</body>
</html>